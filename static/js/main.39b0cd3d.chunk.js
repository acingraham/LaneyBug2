(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{40:function(t,e,n){},68:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),o=n(17),s=n.n(o),a=n(18),i=(n(40),n(13)),u=n.n(i),l=n(19),j=n(35),f=n(9),h=n(20),b=n.n(h),d=n(32),p=n(2),O=(n(67),n(68),n(1)),x="https://xrkgyvv5tk.execute-api.us-east-1.amazonaws.com/prod",g="".concat(x,"/view");"".concat(x,"/favorite");function y(t){var e=t.list,n=Object(c.useState)(0),r=Object(f.a)(n,2),o=r[0],s=r[1],a=function(t,e){for(var n=new Set;n.size<e&&e<t.length;){var c=Math.floor(Math.random()*t.length);n.add(t[c])}return Array.from(n)}(e,20),i=Object(c.useState)(a),u=Object(f.a)(i,2),l=u[0],h=u[1],p=function(t,e){return function(n){console.log("recording view of",t,e,n),fetch(g,{headers:{"Content-type":"application/json"},method:"PUT",mode:"cors",body:JSON.stringify({groupId:t,userId:e,url:n})}).then((function(t){return t.json()})).then((function(t){return console.log("SUCCESS",t)})).catch((function(t){return console.log("ERROR",t)}))}}("laney","andrew");return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(d.Carousel,{onChange:s,showThumbs:!1,useKeyboardArrows:!0,showStatus:!1,autoFocus:!0,children:l.slice(0,10).map((function(t,e){return Object(O.jsx)("div",{children:Object(O.jsx)(b.a,{url:"https://laneybug.s3.amazonaws.com/videos/".concat(t),controls:!0,loop:!0,height:"auto",width:"auto",playing:e===o,onError:function(e){return function(t,e){"error"===t.type&&h((function(t){var n=Object(j.a)(t),c=n.indexOf(e);return n.splice(c,1),n}))}(e,t)},onEnded:function(t){return console.log("ended",t)},onPlay:function(){return p(t)}})},t)}))})})}function v(t){var e=Object(c.useState)(JSON.parse(localStorage.getItem(t))||[]),n=Object(f.a)(e,2),r=n[0],o=n[1];return function(e){var n=r.concat(e),c=JSON.stringify(n);localStorage.setItem(t,c),o(n)}}function m(){var t=Object(c.useState)(0),e=Object(f.a)(t,2),n=e[0],r=e[1],o=v("laney"),s=v("skip"),a=v("other"),i=Object(c.useState)([]),j=Object(f.a)(i,2),h=j[0],d=j[1];if(Object(c.useEffect)((function(){function t(){return(t=Object(l.a)(u.a.mark((function t(){var e,n,c,r,o,s,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("videoList.json");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.next=8,fetch("laney.json");case 8:return e=t.sent,t.next=11,e.json();case 11:return c=t.sent,t.next=14,fetch("skip.json");case 14:return e=t.sent,t.next=17,e.json();case 17:return r=t.sent,t.next=20,fetch("other.json");case 20:return e=t.sent,t.next=23,e.json();case 23:o=t.sent,s=c.concat(r,o),a=new Set(s),n=n.filter((function(t){return!a.has(t)})),d(n);case 28:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),!h.length)return null;var p=function(){o(h[n]),r((function(t){return t+1}))},x=function(){s(h[n]),r((function(t){return t+1}))},g=function(){r((function(t){return t-1}))},y=function(){a(h[n]),r((function(t){return t+1}))};return Object(O.jsxs)("div",{onKeyPress:function(t){console.log("keypress")," "===t.key?p():"o"===t.key?y():"b"===t.key&&g()},children:[Object(O.jsxs)("div",{children:[n," / ",h.length]}),Object(O.jsxs)("div",{className:"button-section",children:[Object(O.jsx)("button",{onClick:p,children:"LaneyBug"}),Object(O.jsx)("button",{onClick:x,children:"Skip"}),Object(O.jsx)("button",{onClick:g,children:"Back"}),Object(O.jsx)("button",{onClick:y,children:"Other"})]}),Object(O.jsx)(b.a,{url:"https://laneybug.s3.amazonaws.com/videos/".concat(h[n]),controls:!0,loop:!0,height:"auto",width:"auto",playing:!0,onError:function(t){return function(t,e){"error"===t.type&&x()}(t,h[n])},className:"admin-player"})]})}function k(t){var e=t.file,n=Object(c.useState)([]),r=Object(f.a)(n,2),o=r[0],s=r[1];return Object(c.useEffect)((function(){function t(){return(t=Object(l.a)(u.a.mark((function t(){var n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,s(c);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),o.length?Object(O.jsx)(y,{list:o}):null}var S=function(){return Object(O.jsxs)(p.c,{children:[Object(O.jsx)(p.a,{path:"/admin",children:Object(O.jsx)(m,{})}),Object(O.jsx)(p.a,{path:"/other",children:Object(O.jsx)(k,{file:"other.json"})}),Object(O.jsx)(p.a,{path:"/skip",children:Object(O.jsx)(k,{file:"skip.json"})}),Object(O.jsx)(p.a,{path:"/",children:Object(O.jsx)(k,{file:"laney.json"})})]})},w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),o(t),s(t)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(a.a,{children:Object(O.jsx)(S,{})})}),document.getElementById("root")),w()}},[[72,1,2]]]);
//# sourceMappingURL=main.39b0cd3d.chunk.js.map